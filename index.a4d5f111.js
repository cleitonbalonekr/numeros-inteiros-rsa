function t(t,e){return{a:t-e,b:t+e}}function e(e){if(e%2==0)return{a:2,b:e/2};const n=Math.sqrt(e);if(Number.isInteger(n))return{a:n,b:n};if(function(t){for(let e=2;e<t;e++)if(t%e==0)return!1;return t>1}(e))return{a:1,b:e};let r=Math.floor(Math.sqrt(e));for(;;){if(e===r*r)return{a:r,b:r};r+=1;const n=Math.sqrt(r*r-e);if(Number.isInteger(n))return t(r,n);if(r===(e+1)/2)return{a:1,b:e}}}function n(t,e){if(t<e)return n(e,t);let r=e;for(;0!==e;)r=t%e,t=e,e=r;return t}function r({base:t,expoente:e,modulo:n}){const r=[1],o=t%n;for(let t=0;t<e;t++){const c=o*r[t]%n;if(r.push(c),0===c)return[...r,...Array(e-t-1).fill(0)]}return r}const o=t=>t.charCodeAt(0)+100,c=t=>{const e=t-100;return String.fromCharCode(e)};function i(t){let e="";for(const n of t){e=`${e}${o(n)}`}return e}function u(t){for(let e=t.length-1;e>0;e--)if(0!==Number(t[e]))return e;return 0}function s(t,e){let n="",r=t;for(let t=0;t<r.length+1;t++){const o=r.substring(0,t);if(Number(o)>=e){if(0===Number(r[t-1])){const t=u(o);n=`${n}${r.substring(0,t)}-`,r=r.substring(t,r.length+1)}else n=`${n}${r.substring(0,t-1)}-`,r=r.substring(t-1,r.length+1);t=0}}return n+r}function a(t){const n=e(t),{a:r,b:o}=n;return(r-1)*(o-1)}function f(t){const e=a(t);for(let t=2;t<=e;t++){if(1===n(t,e)&&e%t!=0)return t}return 0}function l(t,e){const n=[];return t.split("-").forEach((t=>{const o=function(t,e){return r({base:t,expoente:f(e),modulo:e}).pop()}(t,e);n.push(o)})),n}const d=(t,e)=>{const n=s(i(t),e),r=f(e);return{blocosEncrypted:n,encrypted:l(n,e),e:r}},p=(t,e)=>{const r=[[t,"*",1,0],[e,"*",0,1]];let o=0;for(;;){const c=r[o][0]%r[o+1][0],i=Math.floor(r[o][0]/r[o+1][0]);let u=r[o][2]-i*r[o+1][2];const s=r[o][3]-i*r[o+1][3];if(t%e==0){u=1;const o=n(t,e),c=-(u*t-o)/e;r.push([o,i,u,c]);break}if(o++,r.push([c,i,u,s]),0===c)break}const c=t%e?[r[r.length-2][0],r[r.length-2][2],r[r.length-2][3]]:[r[r.length-2][0],r[r.length-1][2],r[r.length-1][3]];return{mdc:c[0],a:c[1],b:c[2]}};function b({beta:t,n:e}){const{mdc:n,b:r}=p(e,t);if(1===n){let t=r;for(;t<0;)t+=e;return t}return 0}function g(t,e){return b({beta:t,n:a(e)})}function h(t,e,n){const o=[];return t.forEach((t=>{const c=function(t,e,n){return r({base:t,expoente:n,modulo:e}).pop()}(t,e,n);o.push(c)})),o}const m=(t,e,n)=>{const r=h(t,e,n),o=r.join("").match(/.{1,3}/g);return{decrypted:r,decryptedMessage:(i=o,i.map(c))};var i};function y(t,e,n){return{decrypted:m(n.split("-"),t,g(e,t)).decryptedMessage.join("")}}async function w(t,e){const n=await t.createWritable();await n.write(e),await n.close()}async function x(t){const e={suggestedName:t,types:[{description:"Text Files",accept:{"text/plain":[".txt"]}}]};return await window.showSaveFilePicker(e)}const N=document.getElementById("encrypt"),E=document.getElementById("decrypt"),$=()=>Number(document.getElementById("n-value").value),k=t=>alert(`Selecione o valor${t}`);N.onclick=async()=>{const t=$();if(!t)return k("N");const[e]=await window.showOpenFilePicker(),n=await e.getFile(),r=await n.text(),{encrypted:o,e:c}=function(t,e){const n=d(t,e);return{e:n.e,encrypted:n.encrypted.join("-")}}(r,t);w(await x("encrypted.txt"),o),alert(`Anote o E: ${c}\n ele é necessário para descriptografar`)},E.onclick=async()=>{const t=$(),e=Number(document.getElementById("e-value").value);if(!t)return k("N");if(!e)return k("E");const[n]=await window.showOpenFilePicker(),r=await n.getFile(),o=await r.text(),{decrypted:c}=y(t,e,o);w(await x("dcrypted.txt"),c)};
//# sourceMappingURL=index.a4d5f111.js.map
